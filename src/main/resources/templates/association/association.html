<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Getting Started: Handling Form Submission</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<p>
<h1>Result</h1>
<p th:text="'name: ' + ${association.name}"></p>
<p th:text="'description: ' + ${association.content}"></p>
<th:block th:if="${association.getEvents().size() > 0}">
    <P>Evenements</P>
    <div th:replace="fragments/showPage :: pageAll(formPageObjects=${association.getEvents()}, name='titre de l\'event', content='descr', date='date de l\'event')"></div>
</th:block>
<th:block th:if="${association.getMembers().size() > 0}">
    <P>Membres</P>
    <th:block th:each="member: ${association.getMembers()}">
        <p th:text="'Name: ' + ${member.getUser().getFirstName()}"></p>
        <p th:text="'Description: ' + ${member.getRole()}"></p>
        <a th:href="'editMember/' + ${member.getId()}">éditer un membre</a>
        <a th:href="'deleteMember/' + ${member.getId()}">Supprimer un membre</a>
    </th:block>
</th:block>
<th:block th:if="${association.getPublications().size() > 0}">
    <P>Publications</P>
    <th:block th:each="publication: ${association.getPublications()}">
        <p th:text="'Title: ' + ${publication.getName()}"></p>
        <p th:text="'Contenu: ' + ${publication.getContent()}"></p>
    </th:block>
</th:block>
<th:block th:if="${association.getJobVacancies().size() > 0}">
    <P>Postes à pourvoir</P>
<!--    <div th:replace="fragments/showPage :: pageAll(${association.getJobVacancies()}, 'titre', 'descr', 'date')"></div>-->
</th:block>
<a href="/addAssociation">add another association</a>
<a th:href="'/association/' + ${association.getId()} + '/addMembers'">add members</a>
<a th:href="'/association/' + ${association.getId()} + '/addEvent'">add event</a>
<a th:href="'/association/' + ${association.getId()} + '/events'">show event</a>
</body>
</html>